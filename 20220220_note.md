# コードが読めないと、経営判断できない時代になった

ソフトウェアエンジニアという職業が、脚光を浴びて久しいですが、いよいよ、コードが読めなければ「まともな経営判断ができない」時代になりつつあります。

「いや、そんなことはないだろう」と言われればそれまでなのですが、確かにソフトウェアを必要としない事業領域ではその通りです。

ただ、ソフトウェアの領域は、一般的に売上総利益（粗利）を確保しやすいビジネスであるのは間違いなく、利益率を高めたい会社、もう少し噛み砕けば、従業員に給料として十分に還元したい企業であれば、有効な手段になります。

古き良き大企業では、盛んに経営者が「DX」というバズワードを標榜するようになりました。システムの内製化や、「DX」の部署を立ち上げることが、珍しいことではなくなりつつあります。

一見すると、これら大企業における「DX」の取り組みは、ソフトウェアという時代の流れに対して、正しいように思えます。

ところが、普段からコードを読み書きしているエンジニアの視点（筆者）からすると「必ずしもそうではないな」と感じますし、長期的には「アンチパターンに向かって全力疾走している」とさえ思えてきます。

その理由は、多くの場合、ソフトウェアにおいて、一番大事なところを見落としているからです。

## ソフトウェアは「リスクをとったカイゼン」に価値が宿る

ソフトウェアが中心の時代において、コードによって提供される価値は、「お客さんへのサービス提供」にありますが、大事なことは「ソフトウェアをアップデートし続ける」ことにあります。

なぜかといえば、これだけインターネットが普及した世界においては、変化が激しく、ソフトウェアが提供する価値は、実際にリリースした後にわかってくるからです。そして、お客さんからのフィードバックを得て、素早くシステムを改修すること、いわゆる「カイゼン」を行うことで、初めて提供する価値が磨かれていきます。場合によっては、サービス提供の内容を大きく変えることもあるでしょう。

今風の言葉を使えば「バージョンアップ」や「リリース」が、生命線なわけです。

ところが、これらのバージョンアップというのは、エンジニア以外には気づかれにくく、過小評価されやすい現状があります。そして、時には「リスク」を伴います。

例えば、ソフトウェアという視点からnoteを例に考えてみます。（※筆者はnoteとは無関係です）

2019年におけるドメインを「note.mu」から「note.com」へ移行したというのは、見た目としてはわかりやすいリリースですが、この移行作業が「決死」だったという事実は、エンジニア以外には理解されにくいでしょう。

また、完遂まで2年がかりであったという時間軸は、普通の人（インターネットのことをちょっとわかる人）なら「え？ドメイン移転だけで2年？」と思われるはずです。エンジニアの視点で考えると、ドメイン買収の大変さや、内部のアプリケーションのコードを修正（共通変数化）していくのは地道な作業であることが想像できるので、合計２年という時間軸には納得感があります。

https://note.jp/n/naefe7919ceeb

また、noteが2021年にリリースした「画像配信の最適化」は、ガッツリとエンジニアリングに取り組んだ経験がないと、その真意は汲み取れないでしょう。

https://note.jp/n/n516042eef752

noteからは画像配信のリリースに関するブログが公表されており、これをヒントに、外部の視点から狙いを洞察すると、「多少のリスクを背負いつつも、コスト競争を磨きつつ、検索流入を安定させるための打ち手だ」と推定することができます。（考察過程は、あまりにマニアックな話になるので、気になる方は最下部の注釈を読んでください）*

このように、普段からコードを読み、システムに対する洞察力があれば、リリースの狙いを察することは、それほど難しくありません。ですが、一般論としてはなかなか見えにくいところであり、リリースによって生じるリスクの判定も難しいでしょう。

裏を返せば、表からは見えにくく、過小評価されやすいからこそ、当事者にとっては競争の源泉になります。微妙な違いであればあるほど、ユーザーが増加してシステムが大規模になるにつれて、大きな差になってくるからです。神が細部に宿るのが、スケールが効いてくるソフトウェア開発の醍醐味です。

このように、時にはリスクを伴う「カイゼン」を、「どのような順序で」「どれほどの工数をかけて」「どの程度のリスク覚悟して」実施するのかを判断することが、ソフトウェアにおける経営の重要事項なのです。

## アンチパターンへの全力疾走
	
問題は「DX」を標榜する古き良き日本の大企業です。

よくあるのが、大企業において、業務の一部を自動化したり、ノーコードツールを導入する動きです。一見すると「良い取り組み」に思えるのですが、エンジニアの視点からすると「アンチパターン」に見えます。

なぜかと言えば、ちゃんとしたアーキテクチャという全体像を最初に考えないと、部分最適の「ツール」が社内の至る所に散乱し、最後は「これってどこと関係しているのだっけ？」といった状態に陥るからです。

歴史を振り返れば、十数年前、ソフトウェア業界では「オレオレフレームワーク」が流行したことがあります。しかし、属人化した仕組みは、長期的には組織の生産性を低下させ、その作成者がなんらかの理由で離職したときに「得体の知れないやばいコードが動いている」存在になってしましました。

ちゃんとしたアーキテクチャを先に描かないないと、「オレオレノーコード」「オレオレ自動化ツール」が無造作に散乱し、システムにおける不確実性を増大させるだけの存在になります。

他にも、日本の大企業において、下記のような発表をよく目にしますが、お世辞にも「筋が良い」とは言えません。

 - DXの部署を設置
 - 自社アプリの開発
 - SIerではなく内製化（エンジニアを自社雇用）
 - 海外（東南アジア）に100名規模の開発拠点を新設

なぜかといえば、これらの打ち手は「部分最適」であり「統合された姿」ではないからです。

そうではなく、ソフトウェアで実現したいビジネス（＝世の中に満たされていないニーズ）が先にあり、その上で必要なアーキテクチャを考え、最後に人を雇って部署を作るのが、あるべき順序です。

## 業績貢献まで10年我慢できますか？

加えて、考慮から漏れやすいのが、業績貢献に至るまでの「時間軸」の視点です。

具体的には「エンジニアリングの業績貢献が10年後」であることを許容できるかどうかです。この合意が経営層の内部で取れていないと、競争優位の道筋は描けません。

なぜかと言えば、絶え間ない「カイゼン」によって、顧客に価値を提供するソフトウェアは、とてつもなく、息が長い事業だからです。ネットが普及した現代において、サービス提供は従量課金の形態を取ることが多く、必然的に損益分岐点が先延ばしされます。

特に業務システム系のサービスの場合、１年や３年で成果が出る甘い世界ではなく、５年〜１０年と続けて、ようやくユーザーに寄り添った価値提供が可能になり、ROIがプラスになる世界です。つまり、本質的には「勝負する時間軸の長さ」が、ビジネスの明暗を分けます。（例外として、ゲーム業界だけは「当たった・外れた」の世界なので、異なるエコノミクスで動いています）

そして、ソフトウェアをアップデートする難易度は、ユーザー数が増加し、システムが大規模になり、リクエスト数が増大すればするほど、高くなります。更地から新しくコードを書くことと比べると、別次元の難しさを伴います。まるで「渋谷駅の改修工事」並みの複雑さがあります。

例えば、テーブルの設計に変更を伴う改修は、サービスの規模が大きければ大きいほどハードシングスになる典型です。その難しさは、永続化されたレコード数、SQLのクエリ発行数、取得データを配列に格納した時のメモリ上限値、呼び出し元のコードの依存関係といった様々な要素によって左右されるため、一概にどれほど「困難」なのかを明示することはできません。この不確実性を最小化するために、数万行ものコードを読み解き、時にはリスクをとる覚悟さえ必要になります。

この辺りの肌感覚は、コードを読み、実際にリリースで苦労した経験がないと、なかなか掴むことは難しいものです。

## すぐ作れるシステムに、競争優位性は宿らない

仮に、「すぐに実装できる」「すぐに効果が出る」ソフトウェアがあった場合、その条件は競合他社にとっても同じ状況です。多くの場合、競争優位性には結びつきません。

何事もそうですが「利益が出ること」と「利益が持続すること」は別次元の問題です。競争優位性をソフトウェアに求めないのであれば、簡単なソフトの導入でも良いですが、ソフトウェアを長期利益のドライバーと定義するのであれば、経営層が知恵を絞らなくてはなりません。

したがって、知恵に欠けた状態で、経営層が次のような言葉を口にした瞬間、終わりの火蓋が切って落とされます。

- 「エンジニアを５人追加したから、絶対、期日に間に合うよね？」
- 「技術的には可能でしょ？何でまだ見積もりが出ないの？」
- 「３年以内にROIがプラスにならないなら、やる価値がない」
- 「リリースの遅延は論外。責任者の評価は下げる」
- 「なんでテストコードを書くの？説明資料書いて」	
- 「誰がバグを出したんだ？」
- 「外部ツールの導入は、全て要相談です」

仮に、経営層が口にしてしまった場合、これはエンジニアへの宣戦布告にあたります。
	
## エンジニアと投資家は「経営層」を冷徹に見ている

誤解を恐れずに言えば、コードを読み書きするエンジニアにとって、ソフトウェアに疎い経営層ほど「厄介」なものはありません。

日本のエンジニア界隈におけるスラングで「メテオフォール型開発」という用語があり、TwitterなどのSNSで定期的に話題になります。これは、絶対的な意思決定者（誰とは言わない）が、エンジニアが開発する環境をめちゃくちゃに破壊することを揶揄した用語です。

https://eiki.hatenablog.jp/entry/meteo_fall

では、現実問題として、経営層がエンジニアに宣戦布告した場合、その企業の開発組織はどうなるのでしょうか？

結論から言えば、その会社から「できるエンジニア」は一斉に消えていきます。それが世間巷における有名大企業であっても、エンジニアに破格の高給を提示していたとしても、エンジニアは容赦なく転職していきます。

なぜかといえば「できるエンジニア」は引く手あまたであり、コードに対して理解のない企業にコミットする理由は、見当たらないからです。引き止めるために、企業側がいくら給与額をアップしたとしても、海外のトップ企業の「本気度」からすれば、微々たるものであり、話になりません。

https://www.nikkei.com/article/DGXZQOGN08F1J0Y2A200C2000000/

つまり、ソフトウェアを中心とする事業において、競争優位性を確立するためには、エンジニアを雇い続ける必要があり、その土台として「コードが読める経営層」が必須なのです。

ちなみに、2010年以降に設立された日本のソフトウェア企業においては、良い兆候があります。それは、経営層、特に創業者が「いざとなったらコードを読める」ことは珍しいことではないからです。

https://www.youtube.com/watch?v=IuxM_zSf8jM&t=266s

これは、国内のベンチャーキャピタルや、一部の海外の機関投資家が、テクノロジーを重視してきたためです。

そもそも、コードに関する理解が経営層にない場合、それは投資家が「資本を出さない」という理由になり得ます。テクノロジーを駆使するビジョンを描いているのに、その当事者がコードを読み書きできないのであれば、その態度は「虚実」に近くなるからです。プロダクトファーストの世界です。

つまり、比較的新しいソフトウェア企業においては、エンジニアという従業員に加えて、大株主である投資家からも、経営層は冷徹に吟味されています。これは、ソフトウェア業界における、新しいガバナンスの効かせ方と言えるでしょう。

## どう考えても、若い人の方が有利

日本において「コードが読めないと、経営判断できない」という時代がやってきたわけですが、コードが読める人、特に10代や20代の方々にとっては、非常に良い時代です。一つの就職先に固執することなく、十分な給与を持続的に手に入れることができるでしょう。どこに行っても重宝されます。

また、大規模な資金調達に成功したソフトウェア企業においては、経営層と投資家の間で、エンジニアリングの重要性に関する合意がとれている可能性が高く、長期間にわたって資金を開発（＝エンジニアの給与など）に集中投資できます。

かつては3Kと言われたコードを読み書きする「エンジニア」という職業のイメージも、一部の企業において、今後は大きく変わっていくはずです。

対照的に、コードが読めないのに「DX」というバズワードを連発する経営層にとっては暗黒を通り越して、氷河期の時代です。

コードが読み書きできない「名ばかりエンジニア」も、今後はそのメッキが剥がれていきます。

加えて、ソフトウェアの知見がない40代の大企業管理職にとっても、生き辛い時代になりつつあります。

https://www.nikkei.com/article/DGXZQOUF142RO0U1A111C2000000/

## 「コードが読める世代」と「読めない世代」の利害は一致する

ですが、世の中の資金循環という視点では、これは悲観すべき「断絶」ではありません。

以下、筆者の仮説です。

仮に、今の若い世代がソフトウェア企業において、しっかりとコードを読んだ上で、正しい意思決定を下し、本業で収益を確保し、その結果として機関投資家（年金基金や大学基金など）が保有する株式の価値を、10年のスパンで高めることに成功したと仮定します。

すると、これらの有価証券の利益は、配当・売却益・含み益を通じて「コードの読めない世代」に還元されて、社会全体が豊かになります。たとえば、大学基金が運用に成功すれば、学費を下げたり、奨学金の原資になります。

すなわち、異なる世代において、「投資サイド（応援団）」と「執行サイド（実行部隊）」に分かれて、それぞれの役割をまっとうした場合においては、世代を超えた利害は一致するわけです。

キーファクターは、機関投資家からのソフトウェア産業に対する長期資金の流入ですが、今後、時間をかけて実現していくでしょう。*

https://www.nikkei.com/article/DGXZQOUC26CML0W1A820C2000000/

つまり、コードが読める世代と、コードが読めない世代は、上下の関係ではなく、それぞれ手を取り合うべき補完の関係にあるのです。

時代は大きく変わりました。
	
いつの日か「メテオフォール型開発」が忘却される時代がくることを心から願って、筆を置きます。

## 補足事項

### Annotation

<div style="font-size: 12px;">

[*]画像配信の最適化における考慮事項の外部推定
 - 今までサイズ別に圧縮してS3に格納していたのか！
   - 当然、S3の容量圧迫（＝コスト増）するので、これは大変だ
 - 圧縮時のバッチ処理も時間かかりそう（サーバー負荷増）
   - 細かい制御ができないので、画像配信の最適化が難しい＝SEOに悪影響
 - CDNはFastlyを使うのか。CloudFrontではないのね。安さ < 安定稼働
 - キャッシュ時間の設定によってコストの負担セクターが変わるなぁ
   - 短いとサーバーの負担になるし
   - 長いとユーザーからの問い合わせ件数が増加するかも
 - パラメータの設定も難しいな。どこまでクエリストリングに含めるべきか
   - クオリティ調整→あり
   - 画像重心の座標設定→これはないのか！管理画面でグローバル制御かな？
 - 動作許容範囲の設定が難しいな
   - jpgは良いとして、pngとgifも含めた動作確認が大変そう
   - アップロード画像の上限値の決定がむずかしそう（容量MBと大きさpx）
   - アニメーションGIF！わいわい！
   - webpなどの次世代フォーマットへの対応は大変そうだなぁ
 - 拡張子間の変換パターンのテストも大変
 - 影響範囲広いのでリリースは冷や汗もの 
   - 多分、Fastly側で外形監視をやっているのだろうな
   - エラー時にはスラックに通知されるようにしているのかな？

[*] 例えば、2021年にCoral Capitalは３号ファンド（運用額約140億円）を組成し、最大の運用期間を14年に設定したと発表した。資金は、国内外の機関投資家や年金基金を中心に集めたという。これは、ソフトウェア企業における戦略策定の視点を長期化できることを意味する。ファンドの運用期間が長期に設定可能な（主に海外の）機関投資家の支援が受けられるようになったことで、日本のソフトウェア産業が「競争優位性」のための長期投資を行える条件が徐々に整いつつある。

 - https://coralcap.co/2021/08/announcing-coral-capital-iii/
</div>

### Certification

<div style="font-size: 12px;">
↓筆者がエンジニアであることの痕跡を残しておきます。

 - https://github.com/yutakasugiura
 - https://github.com/yutakasugiura/public_comment 

<img src="/img/20220220_note_img_1.png">
</div>
